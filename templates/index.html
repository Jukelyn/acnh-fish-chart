<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ACNH Fish Spawning Calendar</title>

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />

    <link
      rel="shortcut icon"
      href="{{ url_for('static', filename='favicon.ico') }}"
    />
  </head>
  <body style="--fish-count: {{ uncaught|length }}">
    <div class="topnav">
      <a class="active" href="/">Home</a>
      <a href="/fish-input">Input Data</a>
    </div>
    <h1>ACNH Fish Spawning Calendar</h1>
    {% if image_url %}
    <div class="image_container_outer">
      <div class="image_container_inner">
        <div class="hemisphere_selection_outer">
          <div class="hemisphere_selection_btns">
            <form action="/" method="post" id="hemisphereForm"></form>
            <button
              type="submit"
              name="hemisphere"
              value="NH"
              class="svg_button_container"
              id="hemisphereButton"
              onclick="toggleHemisphere()"
            >
              <svg
                id="hemisphereSvg"
                viewBox="0 0 16 16"
                xmlns="http://www.w3.org/2000/svg"
                fill="#000000"
                class="bi bi-circle-half"
                transform="rotate(90)"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g
                  id="SVGRepo_tracerCarrier"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                ></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"
                  ></path>
                </g>
              </svg>
            </button>
          </div>
          <div class="hemisphere_selection_text">Change Hemispheres</div>
        </div>
        <img
          id="image"
          src="{{ url_for('static', filename='images/' + image_url.split('/')[-1]) }}"
          alt="Spawning Calendar"
        />
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var lastHemisphere = localStorage.getItem("lastHemisphere");
        if (!lastHemisphere) {
          lastHemisphere = "NH";
        }
        setHemisphere(lastHemisphere);
      });
    </script>
    <script src="{{ url_for('static', filename='js/setHemisphere.js')}}"></script>
    <script src="{{ url_for('static', filename='js/toggleHemisphere.js')}}"></script>
    {% endif %}

    <div class="fishContainerHeading">
      <h2>List of All Fish:</h2>
      <button
        onclick="toggleFishList('fishListContainer', 'all_fish_btn')"
        id="all_fish_btn"
        class="button_container"
      >
        Show
      </button>
    </div>
    <div id="fishListContainer" style="display: none">
      <div class="fish_list_count">Total Fish: {{ fish_list|length }}</div>
      <div class="fish_list_container">
        {% for fish in fish_list %}
        <div class="fish_list">{{ fish }}</div>
        {% endfor %}
      </div>
    </div>

    <div class="fishContainerHeading">
      <h2>List of Uncaught Fish:</h2>
      <button
        onclick="toggleFishList('uncaughtFishListContainer', 'uncaught_fish_btn')"
        id="uncaught_fish_btn"
        class="button_container"
      >
        Show
      </button>
    </div>
    <div id="uncaughtFishListContainer" style="display: none">
      <div class="fish_list_count">
        Total Uncaught Fish: {{ uncaught_fish|length }}
      </div>
      <div class="fish_list_container">
        {% for fish in uncaught_fish %}
        <div class="fish_list">{{ fish }}</div>
        {% endfor %}
      </div>
    </div>

    <script src="{{ url_for('static', filename='js/toggleFishList.js')}}"></script>
  </body>
</html>
